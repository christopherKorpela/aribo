<launch>
	<!-- Defining the arguments -->
	<arg name="HokuyoLaser" value="1"/>
	<arg name="SICKLMSLaser" value="0"/>
	<arg name="Rosaria_Driver" value="1"/>
	<arg name="KeyboardTeleop" value="0"/>
	<arg name="JoystickTeleop" value="0"/>
	<arg name="Transform" value="1"/>
	<arg name="Dashboard" value="0"/>
	<arg name="enableMotor" value="1"/>

        <!-- Start the p2os ROS Driver -->
	<group if="$(arg Rosaria_Driver)" >
  	<node name="RosAria" pkg="rosaria" type="RosAria">
	  <param name="port" value="/dev/ttyUSB0" />
  	</node>
	</group>

	<!-- Start the Dashboard -->
	<group if="$(arg Dashboard)">
	<node pkg="p2os_dashboard" name="p2os_dashboard" type="p2os_dashboard"/>
	</group>

        <!-- Start the teleoperation node for keyboard control -->
        <group if="$(arg KeyboardTeleop)">
                <include file="$(find p2os_launch)/launch/teleop_keyboard.launch" />
        </group>

	 <!-- Start the teleoperation node for joystick control -->
        <group if="$(arg JoystickTeleop)">
                <include file="$(find rosaria)/launch/teleop.launch" /> 
        </group>

        <!-- Publish the required transform -->
        <group if="$(arg Transform)">
		<include file="$(find aribo)/launch/tf_base_link_to_laser.launch" />          
        </group>

        <!-- Start the Hokuyo Laser node if Hokuyo Laser is used -->
        <group if="$(arg HokuyoLaser)">
                <include file="$(find aribo)/launch/hokuyo.launch" /> 
        </group>

        <!-- Start the SICK LMS Laser Node if a SICK Laser is used -->
        <group if="$(arg SICKLMSLaser)">
               <include file="$(find p2os_launch)/launch/sicklms.launch" /> 
        </group>

        <include file="$(find aribo)/launch/pioneer3at_urdf.launch"/>

        <node name="rviz" pkg="rviz" type="rviz" respawn="false" output="screen" args="-d $(find aribo)/launch/aribo.rviz"/>

</launch>
